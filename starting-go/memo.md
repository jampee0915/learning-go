スターティングGo
===

## ch02
### パッケージとディレクトリ
- 1つのディレクトリには、1つのパッケージ定義のみ

### パッケージのテスト
- Goには標準でパッケージの機能をテストするための機能が組み込まれている
- Goはファイル名が_test.goで終わっているファイルはパッケージをテストするためのファイルとして特別扱いされる

---

## ch03
### 変数
#### 型について
- すべての変数は「型」を備える
  - 大きく分けて3つ
    - 値型
    - 参照型
      - スライス
      - マップ
      - チャネル
    - ポインタ型 
- 変数の定義
  - 明示的な定義
  ```
  // int型の変数nを定義する
  var n int
  
  // int型の変数x, y, zを定義する
  var x, y, z int
  
  // 代入
  n = 5 
  ```
  
  - 暗黙的な定義
  ```
  // int型の変数iを定義して1を代入
  //「:=」は 変数を定義するための機能(代入ではない)
  i := 1
  ```
  
#### 基本型
- rune型
  - Goにおける「文字」を表す型
  - ルーンリテラルは''(シングルクォート)で囲われたUnicode文字で構成される

- 文字列型
  - Goの文字列はstring型として定義される
  - 文字列リテラルは""(ダブルクォート) で囲われる

- RAW文字リテラル
  - バッククォートで囲まれた範囲を文字列リテラルとする書き方
  - 改行を保持する
  
- 配列型
  - 拡張や縮小は不可能で、サイズは常に固定
  - スライスというデータ構造がいわゆる可変長配列に該当する
  ```
  a := [5]int{1, 2, 3, 4, 5}
  fmt.Printf("%v", a) // => "[1, 2, 3, 4, 5]"
  ```

- interface{}とnil
  - interface{}は{}部分も含めて1つの型
  - ありとあらゆる型が代入できる(すべての型と互換性を持つ)
  - 初期値としてnilという特殊な値を持つ

#### 関数
- オブジェクト指向機能をGoは持っていない
  - 「関数を定義」することと「構造体型を定義」することがプログラミングにおける中心的な作業になる 

- 基本形
  ```
  func [関数名] ([引数の定義]) [戻り値型] {
    [関数の本体]
  }
  ```

- 戻り値のない関数
  - 戻り値の型定義を省略するだけでおっけー
  ```
  func hello() {
    fmt.Println("Hello, World!")
    return
  }
  ```

- 複数の戻り値
  ```
  func div(a, b int) (int, int) {
    q := a / b
    r := a % b
    
    return q, r
  }
  ```

- 無名関数
  ```
  f := func(x, y int) int { return x + y }
  ```
  ```
  func( [引数リスト] ) [戻り値型] { [無名関数の本体] }
  ```

- 関数を返す関数
  ```
  func returnFunc() func() {
    return func() {
        fmt.Println("I'm a function")
    }
  }
  ```

- 関数を引数にとる関数
  ```
  func main() {
    callFunction(func() {
        fmt.Println("I'm a function.")
    })
  }
  
  func callFunction(f func()) {
    f()
  }
  ```

- クロージャ
  - 日本語で「関数閉包」
  - 関数と関数の処理に関係する「関数外」の環境をセットにして閉じ込めた(閉包)もの
  ```
  func later() func(string) string {
    // 1つ前に与えられた文字列を保存する変数
    var store string
    // 引数に文字列をとり文字列を返す関数を返す
    return func(next string) string {
        s := store
        store = next
        return s
    }
  }
  
  func main() {
    f := later()
  
    fmt.Println(f("Golang")) // => ""
    fmt.Println(f("is")) // => "Golang"
  }
  ```

#### スコープ
- パッケージに定義された定数、変数、関数などが他のパッケージから参照可能であるかは、「識別子の1文字目が大文字」であるかどうか
  ```
  /* 公開される関数 */
  func DoSomething() {
    ...
  }
 
  /* パッケージ内のみで参照できる関数 */ 
  func doSomething() {
    ...
  }
  ```

#### importの詳細
```
package main

import (
    f "fmt" // fmtパッケージにパッケージ名fを指定
    . "math" // matchパッケージをパッケージ名なしでインポート
)

func main() {
    f.Println("Hello, World!") // パッケージ名がfになる
    f.Println(Pi) // => "3.141592..."
}
```

#### 配列型とrange
```
for [配列のインデックス], [配列の要素] := range [配列型] {
    ....
}
```